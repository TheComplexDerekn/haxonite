// Test the splitFirst() and splitLast() functions.

module string8 is

  func runSplitFirst(s: String, term: String) is
    write($"splitFirst('{s}', '{term}'):\n");
    var s1 = s;
    while true do
      var v = splitFirst(s1, term);
      if #v == 1 then
        write($"    '{v[0]}'\n");
        break;
      end
      if #v != 2 then
        write($"unexpected #v = {#v}\n");
        break;
      end
      write($"    '{v[0]}' | '{v[1]}'\n");
      s1 = v[1];
    end
  end

  func runSplitLast(s: String, term: String) is
    write($"splitLast('{s}', '{term}'):\n");
    var s1 = s;
    while true do
      var v = splitLast(s1, term);
      if #v == 1 then
        write($"    '{v[0]}'\n");
        break;
      end
      if #v != 2 then
        write($"unexpected #v = {#v}\n");
        break;
      end
      write($"    '{v[0]}' | '{v[1]}'\n");
      s1 = v[0];
    end
  end

  func main() is
    runSplitFirst("abc/def/ghi/jkl", "/");
    runSplitLast("abc/def/ghi/jkl", "/");
    runSplitFirst("XYZabcXYZdefXYZXYZghiXYZ", "XYZ");
    runSplitLast("XYZabcXYZdefXYZXYZghiXYZ", "XYZ");
    runSplitFirst("abcXYZdefXYZXYZghiXYZ", "XXX");
    runSplitLast("abcXYZdefXYZXYZghiXYZ", "XXX");
    runSplitFirst("0000", "0");
    runSplitLast("0000", "0");
    runSplitFirst("", "x");
    runSplitLast("", "x");
  end

end
