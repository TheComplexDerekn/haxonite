// Test the splitFirst() and splitLast() functions.

module string8 is

  func runSplitFirst(term: String, s: String) is
    write($"splitFirst('{term}', '{s}'):\n");
    var s1 = s;
    while true do
      var v = splitFirst(term, s1);
      if #v == 1 then
        write($"    '{v[0]}'\n");
        break;
      end
      if #v != 2 then
        write($"unexpected #v = {#v}\n");
        break;
      end
      write($"    '{v[0]}' | '{v[1]}'\n");
      s1 = v[1];
    end
  end

  func runSplitLast(term: String, s: String) is
    write($"splitLast('{term}', '{s}'):\n");
    var s1 = s;
    while true do
      var v = splitLast(term, s1);
      if #v == 1 then
        write($"    '{v[0]}'\n");
        break;
      end
      if #v != 2 then
        write($"unexpected #v = {#v}\n");
        break;
      end
      write($"    '{v[0]}' | '{v[1]}'\n");
      s1 = v[0];
    end
  end

  func main() is
    runSplitFirst("/", "abc/def/ghi/jkl");
    runSplitLast("/", "abc/def/ghi/jkl");
    runSplitFirst("XYZ", "XYZabcXYZdefXYZXYZghiXYZ");
    runSplitLast("XYZ", "XYZabcXYZdefXYZXYZghiXYZ");
    runSplitFirst("XXX", "abcXYZdefXYZXYZghiXYZ");
    runSplitLast("XXX", "abcXYZdefXYZXYZghiXYZ");
    runSplitFirst("0", "0000");
    runSplitLast("0", "0000");
    runSplitFirst("x", "");
    runSplitLast("x", "");
  end

end
