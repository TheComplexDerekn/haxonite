module stringbuf1 is

  func main() is
    var sb1 = new StringBuf;
    append(sb1, "Hello");
    appendCodepoint(sb1, ' ');
    append(sb1, "world");

    var sb2 = new StringBuf;
    append(sb2, sb1);

    appendCodepoint(sb1, '\n');
    write(toString(sb1));

    append(sb2, " - and more\n");
    write(toString(sb2));

    var n1 = byteLength(sb1);
    var n2 = byteLength(sb2);
    write($"lengths: {n1} {n2}\n");

    clear(sb1);
    append(sb1, "x\n");
    write(toString(sb1));
  end

end
